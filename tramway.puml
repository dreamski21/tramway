@startuml tramway

class WorldView {
  segments: List
  
  redraw(): void
}
WorldView -- World

class World {}
World *-- "8" TrafficLight
World *-- "6" Tram
World *-- "*" Car
World *-- "1" TramsTrafficController
World *-- "1" CarsTrafficController

abstract class Vehicle {
  dir: TrafficDirection
  canAdvance: Semaphore

  advance(): void
  enter(): void
  leave(): void
}
class Tram {}
class Car {}
Tram --|> Vehicle
Car --|> Vehicle
Vehicle -- TrafficController

interface TrafficController {
  # getPermit(TrafficDirection dir)
}

class TramsTrafficController {}
TramsTrafficController ..|> TrafficController

class CarsTrafficController {}
CarsTrafficController ..|> TrafficController

class TrafficLight {
  # setColor(String c): void
  + getColor(): String
}

enum TrafficColor {
  GREEN
  RED
  YELLOW
}

enum TrafficDirection {
  NORTH
  SOUTH
  EAST
  WEST
}

@enduml
